@page "/"
@inject UserService UserService
@inject NavigationManager NavigationManager

<div id="login-page">

    <div class="design-corner top-right-light"></div>
    <div class="design-corner top-right-dark"></div>

    <div class="design-corner bottom-left-light"></div>
    <div class="design-corner bottom-left-dark"></div>

    <img src="resources/images/logo2.svg" alt="ShareCare Logo" class="logo" />

    <div class="text-container">
        <h1 class="login-title">Login</h1>
        <p class="login-subtitle">Please sign in to continue</p>
    </div>

    <div class="input-container">
        <input @bind="Username" placeholder="Username" type="Username" class="input-field" />
        <input @bind="Password" placeholder="Password" type="Password" class="input-field" />
    </div>
     
     <div class="remember-forgot-container"> 
        <label class="remember-me"> <input type="checkbox" /> Remember me </label> 
            <label class="forgot-password"> <a href="#">Forgot password?</a> </label> 
    </div>

    <button @onclick="LoginUser" class="login-btn">Login</button>

    <div class="register">
        <p>New user? <a href="/register">Sign up</a></p>
    </div>

</div>

@if (Message != null)
{
    <p class="message">@Message</p>
}


@code {
    private string Username;
    private string Password;
    private string Message;

    private async Task LoginUser()
    {
        var success = await UserService.LoginUser(Username, Password);
        if (success)
        {
            Message = "Login successful!";
            NavigationManager.NavigateTo("/home");
        }
        else
        {
            Message = "Invalid username or password.";
        }
    }
}
